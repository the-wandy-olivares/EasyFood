{% extends "food/base/base.html" %}
{% block content %}
{% load humanize %}
<style>
       input, #id_description, #id_name
      {
            background-color: var(--bg-primary);
            color: rgb(201, 201, 201); 
            border-radius: 1rem;
            padding: 0.7rem;
            width: 25rem; 
            border: none;
            margin: 0.5rem;
      }
      #id_name::placeholder {
            color: #7e7e7e;
      }
       input, #id_description::placeholder{
            color: #7e7e7e;
      }
       input:focus {
            background-color: transparent;
            color: #7e7e7e;
      }
       #id_description {
            width: 51rem;
            min-height: 20rem;

      }
       #id_description:focus {
            background-color: transparent;
            color: #7e7e7e;
      }
       #id_img 
      {
            display: none;
      }
      #is_active {
            display: none !important;
      }
      a:hover{
            background-color: transparent !important;
      }


      .sevices-select label
      {
            display: flex;  
            width: 100%;
            margin: 0px;
      }
      .sevices-select label input {
            width: 1rem;
      }
</style>


<form action="" method="post" enctype="multipart/form-data" >
      <section class="d-flex flex-wrap justify-content-center align-content-center vh-100">
            <div style='width: 160px; height: 160px; background-color: var(--bg-primary); 
                  border-radius: 50%; border: 4px solid #7e7e7e; cursor: pointer;'
                  class="d-flex flex-wrap align-content-center img-load justify-content-center mb-5 " >
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                  <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                  <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"/>
                  </svg>
            </div>
            <div>
                  {% csrf_token %}
                  {{form.name}}
                  {{form.description}}
                  {{form.img}} 
            </div>
            <div class="w-100 d-flex justify-content-end" style="margin-right: 9rem;">
                  <a href="{% url "company:contratos" %}" >
                        <span class=" p-2 border-0 btn bg-transparent text-white rounded-5 pe-4 ps-4" style="font-weight: bold;">
                              Atras
                        </span>
                  </a>
                  <button class=" p-2 border-0 bg-white text-white  me-5 bg-opacity-10 rounded-5 pe-4 ps-4"
                        style="font-weight: bold;">
                        Guardar
                  </button>
            </div>
</section>


</form>
<script>
      // Obtener los elementos
      const imgLoad = document.querySelector('.img-load');
      const imgInput = document.getElementById('id_img');
  
      // Cuando se haga clic en .img-load, simula un clic en el input
      imgLoad.addEventListener('click', function() {
          imgInput.click();
      });
  
      // Cuando se selecciona un archivo en el input
      imgInput.addEventListener('change', function(event) {
          const file = event.target.files[0];
  
          if (file) {
              // Crear un objeto URL para la imagen seleccionada
              const reader = new FileReader();
  
              reader.onload = function(e) {
                  // Establecer el fondo de .img-load a la imagen seleccionada
                  imgLoad.style.backgroundImage = `url(${e.target.result})`;
                  imgLoad.style.backgroundSize = 'cover';  // Opcional, para ajustar la imagen al contenedor
                  imgLoad.style.backgroundPosition = 'center';  // Opcional, para centrar la imagen
              };
  
              reader.readAsDataURL(file);  // Leer el archivo como una URL
          }
      });
  </script>


{% endblock  %}