{% extends "food/base/base.html" %}
{% block content %}
{% load humanize %}
{% load static %}


{% load humanize %}
<style>
      .remove-item-btn {
            font-weight: bold;
            font-size: 12px;

      }
      @keyframes flip-left {
            0% {
                  transform: rotateX(50deg);
                  opacity: 0;
            }
            100% {
                  transform: rotateX(0deg);
                  opacity: 1;
            }
      }
      
            .flip-left {
                  animation: flip-left 0.5s ease-out ;
                  transform-origin: left; 
            }
</style>


      <a href="{% url "food:restaurant" %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-left-circle-fill text-white"  viewBox="0 0 16 16">
                  <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"/>
                </svg>
      </a>


      {% if object.is_active %}
      <a href="{% url "company:plato-detail" object.id %}" class="text-decoration-none">
      <div style='min-width: 15rem; width: 15rem;' class="m-4 mt-1 plato-item ">
            <div class=" d-flex w-100 justify-content-center"> 
                  {% if object.img %}
                  <img src="{{object.img.url}}" style="height: 10rem; width: 10rem;" class=" object-fit-cover rounded-circle img-p me-2" alt="">
            {% endif %}
                  <div class=" d-block justify-content-end img-sec pt-0">
                        {% if object.img %}
                              <img src="{{object.img.url}}" style="height: 2.9rem; width: 3rem;" class=" object-fit-cover rounded-4 img-1 m-1" alt="">
                        {% endif %}
                        {% if object.img1 %}
                              <img src="{{object.img1.url}}" style="height: 2.9rem; width: 3rem;" class=" object-fit-cover rounded-4 img-1 m-1" alt="">
                        {% endif %}
                        {% if object.img2 %}
                              <img src="{{object.img2.url}}" style="height: 2.9rem; width: 3rem;" class=" object-fit-cover rounded-4 img-1 m-1" alt="">
                        {% endif %}
                  </div>
            </div>
            <script>
                  document.addEventListener('DOMContentLoaded', function() {
                        const items = document.querySelectorAll('.plato-item');
      
                        items.forEach(item => {
                              const thumbnails = item.querySelectorAll('.img-sec .img-1');
                              const mainImage = item.querySelector('.img-p');
      
                              thumbnails.forEach(thumbnail => {
                                    thumbnail.addEventListener('mouseover', function() {
                                          mainImage.src = this.src;
                                          mainImage.classList.add('flip-left');
                                            setTimeout(() => {
                                                      mainImage.classList.remove('flip-left');
                                            }, 488);

                                    });
                              });
                        });
                  });
                  </script>
                 
         

            <script>
            document.addEventListener('DOMContentLoaded', function() {
                  const items = document.querySelectorAll('.plato-item');

                  items.forEach(item => {
                        const thumbnails = item.querySelectorAll('.img-sec .img-1');
                        const mainImage = item.querySelector('.img-p');

                        thumbnails.forEach(thumbnail => {
                              thumbnail.addEventListener('click', function() {
                                    mainImage.src = this.src;
                              });
                        });
                  });
            });
            </script>


                  <div class="mt-3">
                        <h6 class="m-0 p-0 mt-2">{{object.name}}</h6>
                        <p style="height: 3rem; font-size: 14px;" class=" text-start overflow-auto text-white-50 p-0 m-0">-{{object.description}}</p>
                        <div class="w-100 d-flex justify-content-end mt-0"> 
                              <span class="text-white me-4 p-1 ps-4 pe-4 rounded-5 bg-white bg-opacity-10" style="font-size: 18px; font-weight: bold;">${{object.price|intcomma}}</span>
                              
                              <!-- <button class="btn rounded-5 text-black  w-100 bg-warning order-now-btn" 
                              style="font-weight: bold; font-size: 14px;
                              "
                              data-category="{{p.category.id}}"  data-plato="{{p.id}}"  data-name="{{p.name}}" data-price="{{p.price}}" data-img="{% if p.img %}{{p.img.url}}{% endif %}" >
                              Agregar a la lista 
                        </button> -->
                  </div>
            </div>
      </div>
      </a>
{% endif %}





{% endblock %}