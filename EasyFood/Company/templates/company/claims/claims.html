{% extends "food/base/base.html" %}
{% block content %}
{% load humanize %}
<style>
      .clams {
            background-color: var(--bg-primary) !important;
            color:  #857f94 !important;
            transform: scale(1.1);
      }
      .clams  svg   {
            display: none;
      }

</style>

<section>
      <div class=" ">
            <div data-aos="fade-left" style="transition: 0.7s; transition-delay: 0.4s !important;"> 
                  <h5>
                     Reclamaciones
                  </h5>
                  <p>
                        Aquí podrás ver y responder a las reclamaciones hechas por tus clientes.
                  </p>
            </div>

            <a href="{% url "company:create-claim"  %}" class='btn position-absolute top-0 mt-3 end-0 border-0 me-3 rounded-5 p-2 pe-4 ps-4' style="background-color: var(--bg-primary);" >
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle-fill text-white-50 m-0 me-2 bg-white bg-opacity-10 rounded-circle" style="color: var(--bg-primary) !important;" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"/>
                  </svg> <span style='font-weight:bold;' class='text-white' > Reclamacion  </span>
            </a>

            {% if claims %}
                <table class=" w-100 mt-5">
                    <thead class="table-dark">
                        <tr>
                            <th style="width: 5%;">#</th>
                            <th style="width: 20%;">Empleado</th>
                            <th style="width: 35%;">Descripción</th>
                            <th style="width:  15%;">Fecha</th>
                            <th style="width:   7%;">Estado</th>
                            <th style="width:   7%;">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for claim in claims %}
                            <tr>
                                <td >{{ forloop.counter }}</td>
                                <td >{{ claim.employee }}</td>
                                <td >{{ claim.description }}</td>
                                <td >{{ claim.date_submitted|date:"d M Y - H:i" }}</td>
                                <td>
                                    <span  class="badge bg-warning rounded-5   {% if claim.status == 'pendiente' %}bg-warning  {% elif claim.status == 'resuelto' %}bg-primary{% else %}bg-secondary{% endif %}"  style="color: var(--bg-secundary); font-weight: bold;">
                                        {{ claim.get_status_display }}
                                    </span>
                                </td>
                                <td>
                                    <a href="{% url 'company:update-claim' claim.id %}" class="btn border-0 btn-sm rounded-5 btn-primary bg-transparent">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                                                <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                                                <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
                                              </svg> Ver
                                    </a>
                                    <!-- <a class="btn btn-sm btn-danger">Eliminar</a> -->
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p class="text-center mt-4">No hay reclamaciones registradas.</p>
            {% endif %}
        </div>
</section>


{% endblock  %}